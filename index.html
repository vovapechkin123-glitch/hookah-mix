<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hookah Mix</title>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <style>
    :root { color-scheme: dark; }
    body{
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Arial;
      background: radial-gradient(1200px 800px at 30% 20%, #3b2b7a 0%, #0b0b12 55%, #05050a 100%);
      color:#fff;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
    }
    .card{
      width:min(560px, 100%);
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: 18px;
      padding: 22px 18px;
      backdrop-filter: blur(10px);
      box-shadow: 0 20px 60px rgba(0,0,0,.45);
    }
    h1{ margin:0 0 6px; font-size:28px; letter-spacing:.2px; }
    p{ margin:0 0 16px; opacity:.85; }
    .btn{
      width:100%;
      border:0;
      border-radius:14px;
      padding:14px 16px;
      font-size:18px;
      font-weight:700;
      background: linear-gradient(90deg, #ff7a18, #ff3d77);
      color:#fff;
      box-shadow: 0 10px 30px rgba(255, 80, 80, .25);
      cursor:pointer;
    }
    .mix{
      margin-top:16px;
      padding:14px 14px;
      border-radius:14px;
      background: rgba(255,255,255,0.06);
      border: 1px dashed rgba(255,255,255,0.18);
      text-align:left;
      animation: pop .35s ease;
      display:none;
    }
    .mix.show{ display:block; }
    .title{ font-size:20px; font-weight:800; margin-bottom:6px; }
    .line{ opacity:.9; }
    .tag{
      display:inline-block;
      margin-top:10px;
      padding:6px 10px;
      border-radius:999px;
      background: rgba(255,255,255,0.10);
      border: 1px solid rgba(255,255,255,0.14);
      font-size:13px;
      opacity:.9;
    }
    @keyframes pop{
      from{ opacity:0; transform: translateY(8px) scale(.98); }
      to{ opacity:1; transform: translateY(0) scale(1); }
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>üí® Hookah Mix</h1>
    <p>–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É ‚Äî –∏ –ø–æ–ª—É—á–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ + —Å–æ—Å—Ç–∞–≤.</p>

    <button class="btn" onclick="generateMix()">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –º–∏–∫—Å</button>

    <div id="mixBox" class="mix">
      <div id="mixTitle" class="title"></div>
      <div id="mixRecipe" class="line"></div>
      <div id="mixHint" class="tag"></div>
    </div>
  </div>

  <script>
    // –ú–∏–Ω–∏-–±–∞–∑–∞ –≤–∫—É—Å–æ–≤ (–ø–æ—Ç–æ–º —Ä–∞—Å—à–∏—Ä–∏–º)
    const base = {
      fruits: ["–ú–∞–Ω–≥–æ", "–ê–Ω–∞–Ω–∞—Å", "–ü–µ—Ä—Å–∏–∫", "–Ø–±–ª–æ–∫–æ", "–ì—Ä—É—à–∞"],
      berries:["–ú–∞–ª–∏–Ω–∞", "–ö–ª—É–±–Ω–∏–∫–∞", "–ß–µ—Ä–Ω–∏–∫–∞", "–°–º–æ—Ä–æ–¥–∏–Ω–∞"],
      fresh: ["–ú—è—Ç–∞", "–õ—ë–¥", "–≠–≤–∫–∞–ª–∏–ø—Ç"],
      dessert:["–í–∞–Ω–∏–ª—å", "–ö–∞—Ä–∞–º–µ–ª—å", "–ü–µ—á–µ–Ω—å–µ"]
    };

    const moodNames = [
      "–¢–∏—Ö–∏–π", "–ù–æ—á–Ω–æ–π", "–î–∏–∫–∏–π", "–°–ª–∞–¥–∫–∏–π", "–õ—ë–≥–∫–∏–π",
      "–ë–∞—Ä—Ö–∞—Ç–Ω—ã–π", "–ù–µ–æ–Ω–æ–≤—ã–π", "–õ—É–Ω–Ω—ã–π", "–¢—Ä–æ–ø–∏—á–µ—Å–∫–∏–π"
    ];

    const places = ["–ë–∞–Ω–≥–∫–æ–∫", "–ì–∞–≤–∞–Ω–∞", "–¢–æ–∫–∏–æ", "–ú–∞—Ä—Ä–∞–∫–µ—à", "–ú–∞–π–∞–º–∏", "–°—Ç–∞–º–±—É–ª"];

    function pick(arr){ return arr[Math.floor(Math.random() * arr.length)]; }

    function generateMix(){
      // 3-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–π –º–∏–∫—Å: –±–∞–∑–∞ 55% + –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 30% + –∞–∫—Ü–µ–Ω—Ç 15%
      const main = pick([...base.fruits, ...base.berries]);
      const support = pick([...base.fruits, ...base.berries, ...base.dessert]);
      const accent = pick([...base.fresh, ...base.berries]);

      const title = `${pick(moodNames)} ${pick(places)}`;
      const recipe = `${main} 55% ¬∑ ${support} 30% ¬∑ ${accent} 15%`;

      const hint = accent === "–õ—ë–¥" || accent === "–ú—è—Ç–∞" || accent === "–≠–≤–∫–∞–ª–∏–ø—Ç"
        ? "–°–æ–≤–µ—Ç: –∂–∞—Ä —Å—Ä–µ–¥–Ω–∏–π, —á—Ç–æ–±—ã —Å–≤–µ–∂–µ—Å—Ç—å –Ω–µ ¬´—Å—ä–µ–ª–∞¬ª –≤–∫—É—Å"
        : "–°–æ–≤–µ—Ç: –∂–∞—Ä —á—É—Ç—å –≤—ã—à–µ —Å—Ä–µ–¥–Ω–µ–≥–æ –¥–ª—è —è—Ä–∫–æ—Å—Ç–∏";

      document.getElementById("mixTitle").innerText = title;
      document.getElementById("mixRecipe").innerText = "üß™ " + recipe;
      document.getElementById("mixHint").innerText = hint;

      const box = document.getElementById("mixBox");
      box.classList.remove("show"); // –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∞–Ω–∏–º–∞—Ü–∏–∏
      void box.offsetWidth;
      box.classList.add("show");

      // –í Telegram –±—É–¥–µ—Ç –ø—Ä–∏—è—Ç–Ω–∞—è –≤–∏–±—Ä–∞—Ü–∏—è
      if (window.Telegram?.WebApp) {
        Telegram.WebApp.HapticFeedback.impactOccurred("medium");
        Telegram.WebApp.expand();
      }
    }
  </script>
</body>
</html>
