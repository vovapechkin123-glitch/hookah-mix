<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>THE MENU</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
:root { color-scheme: dark; }

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Arial;
  background: radial-gradient(1200px 800px at 30% 20%, #2b2b38 0%, #0b0b12 55%, #05050a 100%);
  color: #fff;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px;
}

.card {
  width: min(520px, 100%);
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 18px;
  padding: 22px;
  backdrop-filter: blur(10px);
  box-shadow: 0 20px 60px rgba(0,0,0,.45);
}

h1 { margin: 0 0 12px; font-size: 24px; }
p { opacity: .85; line-height: 1.5; }

.screen { display: none; }
.screen.active { display: block; }

.btn {
  width: 100%;
  margin-top: 18px;
  padding: 14px;
  border-radius: 14px;
  border: 0;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  background: linear-gradient(90deg, #ff7a18, #ff3d77);
  color: #fff;
}

.option {
  padding: 14px;
  border-radius: 14px;
  background: rgba(255,255,255,0.08);
  margin-top: 10px;
  cursor: pointer;
}

.option:hover {
  background: rgba(255,255,255,0.14);
}

.timer {
  font-size: 32px;
  margin: 16px 0;
  text-align: center;
  letter-spacing: 2px;
}

.master {
  font-size: 14px;
  line-height: 1.6;
  opacity: .9;
}
</style>
</head>

<body>
<div class="card">

<!-- –≠–ö–†–ê–ù 0 -->
<div class="screen active" id="s0">
  <h1>–ü—Ä–µ–∂–¥–µ —á–µ–º –º—ã –Ω–∞—á–Ω—ë–º.</h1>
  <p>
    –ó–¥–µ—Å—å —Ñ–∏–∫—Å–∏—Ä—É—é—Ç –º–æ–º–µ–Ω—Ç.<br><br>
    –¢–æ, —á—Ç–æ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ,<br>
    –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∑–∞—Ä–∞–Ω–µ–µ.
  </p>
  <button class="btn" onclick="go(1)">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
</div>

<!-- –í–û–ü–†–û–°–´ -->
<div class="screen" id="s1">
  <h1>–ù–µ –¥—É–º–∞–π—Ç–µ –¥–æ–ª–≥–æ.</h1>
  <p>–ö –∫–∞–∫–æ–º—É —Ü–≤–µ—Ç—É —Ç—è–Ω–µ—Ç—Å—è —Ä—É–∫–∞?</p>
  <div class="option" onclick="answer(1,'–ö–æ—Ä–∏—á–Ω–µ–≤—ã–π')">üü§ –ö–æ—Ä–∏—á–Ω–µ–≤—ã–π</div>
  <div class="option" onclick="answer(1,'–ó–µ–ª—ë–Ω—ã–π')">üü¢ –ó–µ–ª—ë–Ω—ã–π</div>
  <div class="option" onclick="answer(1,'–°–∏–Ω–∏–π')">üîµ –°–∏–Ω–∏–π</div>
  <div class="option" onclick="answer(1,'–§–∏–æ–ª–µ—Ç–æ–≤—ã–π')">üü£ –§–∏–æ–ª–µ—Ç–æ–≤—ã–π</div>
  <div class="option" onclick="answer(1,'–ë–µ–ª—ã–π')">‚ö™ –ë–µ–ª—ã–π</div>
</div>

<div class="screen" id="s2">
  <h1>–û—â—É—â–µ–Ω–∏–µ.</h1>
  <p>–í–æ —Ä—Ç—É —Å–µ–π—á–∞—Å ‚Äî</p>
  <div class="option" onclick="answer(2,'–°—É—Ö–æ')">–°—É—Ö–æ</div>
  <div class="option" onclick="answer(2,'–ú—è–≥–∫–æ')">–ú—è–≥–∫–æ</div>
  <div class="option" onclick="answer(2,'–ü–ª–æ—Ç–Ω–æ')">–ü–ª–æ—Ç–Ω–æ</div>
  <div class="option" onclick="answer(2,'–ü—É—Å—Ç–æ')">–ü—É—Å—Ç–æ</div>
</div>

<div class="screen" id="s3">
  <h1>–ï—Å–ª–∏ –ø–∞—É–∑–∞.</h1>
  <div class="option" onclick="answer(3,'–û—Ä–µ—Ö')">–û—Ä–µ—Ö</div>
  <div class="option" onclick="answer(3,'–§—Ä—É–∫—Ç')">–§—Ä—É–∫—Ç</div>
  <div class="option" onclick="answer(3,'–•–ª–µ–±')">–•–ª–µ–±</div>
  <div class="option" onclick="answer(3,'–ù–∏—á–µ–≥–æ')">–ù–∏—á–µ–≥–æ</div>
</div>

<div class="screen" id="s4">
  <h1>–°–∫–æ—Ä–æ—Å—Ç—å.</h1>
  <div class="option" onclick="answer(4,'–ú–µ–¥–ª–µ–Ω–Ω–æ')">–ú–µ–¥–ª–µ–Ω–Ω–æ</div>
  <div class="option" onclick="answer(4,'–†—ã–≤–∫–∞–º–∏')">–†—ã–≤–∫–∞–º–∏</div>
  <div class="option" onclick="answer(4,'–†–æ–≤–Ω–æ')">–†–æ–≤–Ω–æ</div>
  <div class="option" onclick="answer(4,'–ë–µ–∑ –≤—Ä–µ–º–µ–Ω–∏')">–ë–µ–∑ –≤—Ä–µ–º–µ–Ω–∏</div>
</div>

<div class="screen" id="s5">
  <h1>–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ.</h1>
  <div class="option" onclick="answer(5,'–ü–æ–ª—É–º—Ä–∞–∫')">–ü–æ–ª—É–º—Ä–∞–∫</div>
  <div class="option" onclick="answer(5,'–Ø—Ä–∫–∏–π —Å–≤–µ—Ç')">–Ø—Ä–∫–∏–π —Å–≤–µ—Ç</div>
  <div class="option" onclick="answer(5,'–¢–µ–Ω—å')">–¢–µ–Ω—å</div>
  <div class="option" onclick="answer(5,'–ù–∏—á–µ–≥–æ')">–ù–∏—á–µ–≥–æ</div>
</div>

<div class="screen" id="s6">
  <h1>–≠—Ç–æ—Ç –º–æ–º–µ–Ω—Ç ‚Äî</h1>
  <div class="option" onclick="finish('–ù–∞—á–∞–ª–æ')">–ù–∞—á–∞–ª–æ</div>
  <div class="option" onclick="finish('–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ')">–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ</div>
  <div class="option" onclick="finish('–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ')">–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ</div>
</div>

<!-- –ì–û–°–¢–¨ -->
<div class="screen" id="s7">
  <h1 id="orderTitle">–ó–∞–∫–∞–∑ –ø—Ä–∏–Ω—è—Ç.</h1>
  <p>
    –ö–∞–ª—å—è–Ω —É–∂–µ –≥–æ—Ç–æ–≤–∏—Ç—Å—è.<br>
    –≠—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ–ª—å–∑—è —É—Å–∫–æ—Ä–∏—Ç—å.
  </p>
  <div class="timer" id="timer">25:00</div>
  <p style="font-size:13px;opacity:.6">
    –û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è.
  </p>

  <!-- –∫–Ω–æ–ø–∫–∞ –≤–∏–¥–Ω–∞ –¢–û–õ–¨–ö–û –º–∞—Å—Ç–µ—Ä—É -->
  <button class="btn secondary" id="openMasterBtn" style="display:none" onclick="openMaster()">
    –û—Ç–∫—Ä—ã—Ç—å —ç–∫—Ä–∞–Ω –º–∞—Å—Ç–µ—Ä–∞
  </button>
</div>

<!-- –ú–ê–°–¢–ï–† -->
<div class="screen" id="master">
  <h1>–≠–∫—Ä–∞–Ω –º–∞—Å—Ç–µ—Ä–∞</h1>
  <div class="master" id="masterData"></div>
  <button class="btn secondary" onclick="go(7)">–ù–∞–∑–∞–¥</button>
</div>

</div>

<script>
/* ===== –ù–ê–°–¢–†–û–ô–ö–ê ===== */
const MASTER_ID = 1292778768;
/* ==================== */

const answers = {};
let endTime = null;
let timerInt = null;
let isMaster = false;

// –æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–æ–ª—å
if (window.Telegram?.WebApp?.initDataUnsafe?.user) {
  const uid = Telegram.WebApp.initDataUnsafe.user.id;
  isMaster = uid === MASTER_ID;
}

function go(n) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(n === 'master' ? 'master' : 's' + n).classList.add('active');
}

function answer(q, val) {
  answers[q] = val;
  go(q + 1);
}

function finish(val) {
  answers[6] = val;
  endTime = Date.now() + 25 * 60 * 1000;
  go(7);
  startTimer();

  if (isMaster) {
    document.getElementById('openMasterBtn').style.display = 'block';
  }
}

function startTimer() {
  timerInt = setInterval(() => {
    const diff = endTime - Date.now();
    if (diff <= 0) {
      document.getElementById('timer').textContent = "–ì–æ—Ç–æ–≤–æ";
      clearInterval(timerInt);
    } else {
      const m = Math.floor(diff / 60000);
      const s = Math.floor((diff % 60000) / 1000);
      document.getElementById('timer').textContent =
        `${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
    }
  }, 1000);
}

function openMaster() {
  const list = Object.entries(answers)
    .map(([k,v]) => `<div>${k}: ${v}</div>`)
    .join('');
  document.getElementById('masterData').innerHTML = list;
  go('master');
}
</script>

</body>
</html>
